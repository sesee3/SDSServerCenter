<html lang="it">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Conference Management System</title>
	
	<link rel="stylesheet" href="/css/theme.css" />
	<link rel="stylesheet" href="/css/conferences-page.css" />
	<script src="/scripts/common.js" defer></script>
	<script src="/scripts/conferences.js" defer></script>

</head>
<body>

	<div id="appScreen" style="display: none">
		<div class="app-header">
			<div class="header-content">
				<div class="title-header">
				<h1>Console delle Conferenze</h1>
				<a href="/user/dashboard" style="margin-bottom: 12px; text-decoration: none; color: var(--primary);">
				 <svg width="14" height="11" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
				 	<path d="M8.08013 16C8.53924 16 8.88148 15.6694 8.88148 15.2231C8.88148 15.0083 8.80633 14.7934 8.66444 14.6446L5.73457 11.719L1.6611 8L5.73457 4.281L8.66444 1.34711C8.80633 1.19835 8.88148 0.991737 8.88148 0.776859C8.88148 0.330579 8.53924 0 8.08013 0C7.86309 0 7.66277 0.0743804 7.44573 0.289256L0.275459 7.3967C0.0918198 7.57026 0 7.77685 0 8C0 8.22315 0.0918198 8.42974 0.275459 8.59504L7.49582 15.7521C7.67945 15.9174 7.86309 16 8.08013 16ZM4.93322 8.80167H19.1986C19.6661 8.80167 20 8.46281 20 8C20 7.52893 19.6661 7.19834 19.1986 7.19834H4.93322L1.64441 7.37189C1.27713 7.37189 1.01002 7.62811 1.01002 8C1.01002 8.36363 1.27713 8.61985 1.65275 8.61985L4.93322 8.80167Z" fill="var(--primary)"/>
				 </svg> Ritorna alla dashboard </a>
				</div>

				<div class="user-info">
			
				<div class="theme-switcher-custom">
					 <button id="themeAuto" class="theme-icon active" onclick="setTheme('auto')" title="Auto Theme">
                       <svg width="17" height="16" viewBox="0 0 14 15" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9.80498 10.5753C10.0084 10.5753 10.1907 10.697 10.2631 10.8811L10.9284 12.5745L11.2371 13.2909C11.3567 13.5454 11.4551 13.7097 11.5291 13.8039C11.5747 13.8577 11.628 13.9032 11.6914 13.9411L11.7594 13.9772L11.7732 13.9837C11.8481 14.0214 11.9584 14.0509 12.1217 14.0509C12.3761 14.0509 12.5766 13.9702 12.7516 13.8007C12.9531 13.6056 13.0197 13.4304 13.0197 13.265C13.0197 13.0668 12.9142 12.6604 12.6267 11.9924L12.6248 11.9878L8.95822 3.21985C8.95693 3.21676 8.95561 3.21369 8.95439 3.21058C8.78313 2.77458 8.64229 2.43217 8.53125 2.18132C8.52944 2.17723 8.52768 2.17295 8.52598 2.16881C8.43138 1.93717 8.3121 1.72334 8.1689 1.52604C8.16718 1.52368 8.16579 1.52103 8.16411 1.51863C8.0514 1.35712 7.89776 1.22164 7.69311 1.11314C7.6891 1.11101 7.68509 1.10888 7.68114 1.10665C7.51415 1.01201 7.27711 0.949086 6.94256 0.949086C6.61663 0.949086 6.37671 1.01102 6.19967 1.10897L6.19632 1.11082C6.00038 1.21724 5.84402 1.35495 5.72196 1.52651C5.58691 1.72596 5.4491 1.99035 5.31127 2.32684C5.17139 2.67769 5.05046 2.97973 4.94844 3.23282L4.94796 3.23421L1.35797 12.0577L1.35654 12.0614C1.21138 12.4097 1.11147 12.6708 1.05354 12.8502C1.00279 13.0074 0.980306 13.1514 0.980306 13.2835C0.980306 13.4561 1.04766 13.6243 1.24022 13.8021C1.42958 13.9768 1.62638 14.0509 1.84956 14.0509C2.17594 14.0509 2.3053 13.9636 2.36652 13.8878C2.50559 13.7058 2.70864 13.3043 2.96964 12.6264L3.63977 10.8844L3.67184 10.8176C3.75756 10.6696 3.92015 10.5753 4.09929 10.5753H9.80498ZM6.92198 2.90101C7.12835 2.90043 7.31308 3.02522 7.38389 3.2129L9.49959 8.82029C9.55442 8.96576 9.53239 9.12806 9.44071 9.25497C9.349 9.38188 9.1991 9.45749 9.03911 9.45749H4.84601C4.68649 9.45749 4.53716 9.3822 4.44536 9.2559C4.35356 9.1296 4.33072 8.96797 4.38457 8.8226L6.46198 3.21521C6.53168 3.0272 6.71564 2.9016 6.92198 2.90101ZM5.54246 8.5084H8.33835L6.92724 4.76953L5.54246 8.5084ZM14 13.265C14 13.7297 13.7921 14.1354 13.4447 14.4717C13.0837 14.8212 12.6332 15 12.1217 15C11.8436 15 11.576 14.9503 11.3353 14.8322V14.8327C11.3341 14.8322 11.3331 14.8314 11.3319 14.8309C11.3285 14.8292 11.3248 14.8279 11.3214 14.8262V14.8258C11.1041 14.7225 10.9164 14.5795 10.7642 14.3976C10.7619 14.3948 10.7597 14.392 10.7575 14.3892C10.615 14.2107 10.4785 13.9684 10.3449 13.6839C10.3431 13.68 10.3414 13.6758 10.3396 13.6718C10.218 13.3929 10.1119 13.1476 10.0218 12.9359C10.0201 12.932 10.0186 12.9279 10.017 12.9239L9.46704 11.5243H4.4401L3.88868 12.9577V12.9582C3.62726 13.6372 3.38353 14.1556 3.15249 14.4564L3.14866 14.461C2.83875 14.8542 2.36152 15 1.84956 15C1.35799 15 0.922862 14.8207 0.563389 14.4888C0.207156 14.16 0 13.7535 0 13.2835C0 13.0449 0.0413634 12.8057 0.11823 12.5675C0.187949 12.3515 0.29871 12.0624 0.447073 11.7065L4.03563 2.88665C4.13735 2.63427 4.25842 2.33239 4.39845 1.98112L4.39989 1.97742C4.5548 1.59921 4.72257 1.27115 4.90584 1.00145L4.91063 0.994501C5.0939 0.735175 5.32393 0.520401 5.59703 0.3522L5.7167 0.28315C6.07501 0.0858185 6.49127 0 6.94256 0C7.39412 0 7.80994 0.0838715 8.16363 0.280833H8.16411C8.16637 0.28203 8.16856 0.283338 8.17081 0.28454C8.17254 0.285512 8.17436 0.286344 8.17608 0.287321H8.1756C8.49893 0.460825 8.76687 0.691487 8.97019 0.980135H8.97114C9.15714 1.23639 9.31005 1.51286 9.43162 1.8078H9.4321C9.54996 2.07407 9.69498 2.42692 9.86673 2.86394L13.5314 11.6272C13.8183 12.2938 14 12.8576 14 13.265Z" fill=none/>
                        </svg>
                    </button>

					<button id="themeLight" class="theme-icon" onclick="setTheme('light')" title="Light Theme">
						<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
					</button>

					<button id="themeDark" class="theme-icon" onclick="setTheme('dark')" title="Dark Theme">
						<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
					</button>

				</div>

				<span class="user-name" id="currentUser"></span>
				<button
						class="btn btn-secondary btn-sm"
						"
						onclick="logout()">
					Logout
				</button>
			</div>
		</div>
	</div>

	<div class="container">

		<!-- Conferences Tab -->
		<div id="conferencesTab">
			<div class="toolbar">
				<div class="search-box">
					<input
							type="text"
							id="searchInput"
							placeholder="üîç Cerca..."
							oninput="filterConferences()"
					/>
				</div>
				<button
						class="btn btn-success btn-sm"
						onclick="showCreateModal()"
				>
					+ Nuova Conferenza
				</button>
			</div>

			<div id="conferencesContainer">
				<div class="spinner"></div>
			</div>
		</div>

	</div>
</div>

<!-- Conference Detail Modal -->
<div id="detailModal" class="modal">
	<div class="modal-content">
		<div class="modal-header">
			<h2>Conference Details</h2>
			<button
					class="close-btn"
					onclick="closeModal('detailModal')"
			>
				
			</button>
		</div>
		<div class="modal-body" id="detailContent"></div>
		<div class="modal-footer">
			<button
					class="btn btn-secondary btn-sm"
					onclick="closeModal('detailModal')"
			>
				Annulla
			</button>
			<button
					class="btn btn-primary btn-sm"
					onclick="editConference()"
			>
				Modifica
			</button>
			<button
					class="btn btn-danger btn-sm"
					onclick="deleteConference()"
			>
				Elimina
			</button>
		</div>
	</div>
</div>

<!-- Create/Edit Modal -->
<div id="formModal" class="modal">
	<div class="modal-content">
		<div class="modal-header">
			<h2 id="formModalTitle">Nuova Conferenza</h2>
			<button class="close-btn" onclick="closeModal('formModal')">
				<svg width="17" height="17" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M1.76205 17.6618L17.5558 1.77031C17.9459 1.37779 17.9565 0.698849 17.5558 0.306333C17.1552 -0.107398 16.491 -0.0967897 16.1009 0.306333L0.296542 16.1979C-0.0935581 16.5904 -0.104101 17.2693 0.296542 17.6618C0.697185 18.0756 1.36141 18.065 1.76205 17.6618ZM0.296542 1.77031L16.1009 17.6618C16.491 18.065 17.1552 18.0756 17.5558 17.6618C17.9565 17.2693 17.9459 16.5904 17.5558 16.1979L1.76205 0.306333C1.36141 -0.0967897 0.697185 -0.107398 0.296542 0.306333C-0.104101 0.698849 -0.0935581 1.37779 0.296542 1.77031Z" fill="white" fill-opacity="0.85"/>
				</svg>
			</button>
		</div>
		<div class="modal-body">
			<div class="form-group">
				<label>Titolo</label>
				<input
						type="text"
						id="formTitle"
						placeholder="Il Cinema: tra realt√† e finzione"
				/>
			</div>
			<div class="form-group">
				<label>Abstract</label>
				<textarea id="formAbstract"></textarea>
			</div>
			<div class="form-group">
				<label>Modalit√†</label>
				<div class="checkbox-group">
					<input type="checkbox" id="formIsOnline" style="margin-bottom: 12px" />
					<label for="formIsOnline">La conferenza √® online?</label>
				</div>
			</div>

			<div class="form-group">
				<label>URL di Google Meet</label>
				<input
						type="url"
						id="formUrl"
						placeholder="https://meet.example.com/..."
				/>
			</div>
			<div class="form-group">
				<label>Relatori</label>
				<div class="array-input">
					<input
							type="text"
							id="attendeeInput"
							placeholder="Nome, Cognome"
					/>
					<button
							class="btn-add"
							onclick="addArrayItem('attendee')"
					>
						Aggiungi
					</button>
				</div>
				<ul class="array-list" id="attendeesList"></ul>
			</div>
			<div class="form-group">
				<label>Contatti</label>
				<div class="array-input">
					<input
							type="text"
							id="contactInput"
							placeholder="example@email.com, +39399..."
					/>
					<button
							class="btn-add"
							onclick="addArrayItem('contact')"
					>
						Aggiungi
					</button>
				</div>
				<ul class="array-list" id="contactsList"></ul>
			</div>

			
			<div class="form-group">
				<label>Disponibilit√†</label>
				<div class="availability-adder">
					<div class="custom-select-container" id="customSelectContainer">
						<button type="button" class="custom-select-button placeholder" id="customSelectButton" onclick="toggleCustomSelect()">
							<span>Seleziona un giorno della SDS</span>
							
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
						</button>

						<div class="custom-select-options" id="customSelectOptions"></div>

					</div>

					<button
							type="button"
							class="btn-add"
							onclick="addAvailabilitySlot()">
						Aggiungi
					</button>
				</div>

				<div class="array-list" id="availabilitySlotsContainer"></div></div>

			<div class="form-group">
				<label>Altro</label>
				<textarea
						id="formExternalNotes"
						placeholder="Aggiungi ulteriori informazioni sulla conferenza"
				></textarea>
			</div>
		</div>
		<div class="modal-footer">
			<button
					class="btn btn-primary btn-sm"
					onclick="saveConference()"
					id="saveBtn"
			>
				Salva
			</button>
		</div>
	</div>
</div>
</body>
</html>